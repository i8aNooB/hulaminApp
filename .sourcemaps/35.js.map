{"version":3,"sources":["../../src/pages/layout/app1/list-map1/list-map1.module.ts","../../src/pages/layout/app1/list-map1/list-map1.ts"],"names":[],"mappings":"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","file":"35.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { ListMap1Page } from './list-map1';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ListMap1Page,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ListMap1Page),\r\n  ],\r\n  exports: [\r\n    ListMap1Page\r\n  ]\r\n})\r\nexport class ListMap1PageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/layout/app1/list-map1/list-map1.module.ts","import { Component,ViewChild,ElementRef } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController,ViewController } from 'ionic-angular';\r\n\r\nimport { AngularFireDatabase,AngularFireList } from '@angular/fire/database';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { map } from 'rxjs/operators';\r\n\r\n\r\ndeclare var google;\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-list-map1',\r\n  templateUrl: 'list-map1.html'\r\n})\r\nexport class ListMap1Page {\r\n  @ViewChild('map') mapElement: ElementRef;\r\n  categoryId:any\r\n  category: Observable<any[]>;\r\n\r\n  itemsRef: AngularFireList<any>;\r\n  items: Observable<any[]>;\r\n  itemsArray: any[] = [];\r\n  //items: Todo[];\r\n\r\n\r\n\r\n  map: any;\r\n  markerSelected: boolean = false;\r\n  //******************** Map style  **************************//\r\n  //***** go to snazzymaps.com for more map style  ***********//\r\n  //**********************************************************//\r\n  mapStyle: any = [{\"featureType\":\"landscape.man_made\",\"elementType\":\"all\",\"stylers\":[{\"color\":\"#faf5ed\"},{\"lightness\":\"0\"},{\"gamma\":\"1\"}]},{\"featureType\":\"poi.park\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#bae5a6\"}]},{\"featureType\":\"road\",\"elementType\":\"all\",\"stylers\":[{\"weight\":\"1.00\"},{\"gamma\":\"1.8\"},{\"saturation\":\"0\"}]},{\"featureType\":\"road\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"hue\":\"#ffb200\"}]},{\"featureType\":\"road.arterial\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"lightness\":\"0\"},{\"gamma\":\"1\"}]},{\"featureType\":\"transit.station.airport\",\"elementType\":\"all\",\"stylers\":[{\"hue\":\"#b000ff\"},{\"saturation\":\"23\"},{\"lightness\":\"-4\"},{\"gamma\":\"0.80\"}]},{\"featureType\":\"water\",\"elementType\":\"all\",\"stylers\":[{\"color\":\"#a0daf2\"}]}];\r\n\r\n  infoWindows: any=[];\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public loadingCtrl: LoadingController ,\r\n    public viewCtrl: ViewController,\r\n    public afDB: AngularFireDatabase) {\r\n\r\n      let loadingPopup = this.loadingCtrl.create({\r\n        spinner: 'crescent',\r\n        content: ''\r\n      });\r\n      loadingPopup.present();\r\n\r\n      this.categoryId = this.navParams.get('categoryId');\r\n      this.items =  afDB.list('/list', ref => ref.orderByChild('categoryId').equalTo(parseInt(this.categoryId))).valueChanges();\r\n      this.items.subscribe( (value) => {\r\n        this.itemsArray = value;\r\n        console.log(\"set itemsArray\");\r\n        this.displayGoogleMap();\r\n      });\r\n      setTimeout(() => {\r\n        loadingPopup.dismiss();\r\n      }, 1000);\r\n\r\n  }\r\n\r\n\r\n  ionViewDidLoad() {\r\n   \r\n  }\r\n\r\n\r\n  displayGoogleMap() {\r\n    let latLng = new google.maps.LatLng(13.801532791932946, 100.54677690766607);\r\n    let mapOptions = {\r\n        center: latLng,\r\n        zoom: 12,\r\n        styles: this.mapStyle,\r\n        mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n        disableDefaultUI: true\r\n    };\r\n    this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\r\n    this.addMarkersToMap()\r\n  }\r\n\r\n\r\n  addMarkersToMap() {\r\n    for(let items of this.itemsArray) {\r\n      var position = new google.maps.LatLng(items.lat, items.lng);\r\n      var mapMarker = new google.maps.Marker({\r\n            position: position,\r\n            animation: google.maps.Animation.DROP,\r\n            markerSelected : true,\r\n            title: items.name,\r\n            email: items.email,\r\n            web: items.web,\r\n            phone: items.phone,\r\n\r\n            //**** Custom Marker Symbols ****/\r\n            //icon:  'assets/red_pin72x96.png'\r\n            icon: {\r\n                    url: 'assets/red_pin72x96.png',\r\n                    //The size image file.\r\n                    size: new google.maps.Size(72, 96),\r\n                    // we want to render @ 30x30 logical px (@2x dppx or 'Retina')\r\n                    scaledSize: new google.maps.Size(40, 52), \r\n                    //The point on the image to measure the anchor from. 0, 0 is the top left.\r\n                    origin: new google.maps.Point(0, 0),\r\n                    //The x y coordinates of the anchor point on the marker. e.g. If your map marker was a drawing pin then the anchor would be the tip of the pin.\r\n                    anchor: new google.maps.Point(20, 40),\r\n                    labelOrigin: new google.maps.Point(20, 12)\r\n                },\r\n                anchorPoint: new google.maps.Point(0, -40)\r\n      });\r\n      mapMarker.setMap(this.map);\r\n      this.addInfoWindowToMarker(mapMarker);\r\n      this.map.setCenter(position);\r\n    }\r\n  \r\n  }\r\n\r\n\r\n\r\n  addInfoWindowToMarker(marker) {\r\n\r\n      var infoWindowContent = '<div id=\"iw-container\">' +               \r\n                                  '<div class=\"iw-content\">' +\r\n                                        '<div class=\"iw-subTitle\">'+marker.title+'</div>' +                                  \r\n                                        '<br><b>Phone:</b> '+marker.phone+'<br><b>E-mail:</b>'+marker.email+'<br><b>Website:</b> '+marker.web+'</p>'+\r\n                                  '</div>' +\r\n                                  //'<div id=\"do-something-button\">button</div>' +\r\n                              '</div>';    \r\n\r\n      var infoWindow = new google.maps.InfoWindow();\r\n          // infoWindow.setOptions({\r\n          //     disableAutoPan:false\r\n          // }); \r\n          infoWindow.setContent(infoWindowContent);\r\n\r\n          marker.addListener('click', () => {\r\n                this.closeAllInfoWindows();\r\n                infoWindow.open(this.map, marker);\r\n                // add listener that will capture the click event of the infoWindow\r\n                // google.maps.event.addListener(infoWindow, 'domready', () => {\r\n                //   document.getElementById('do-something-button').addEventListener('click', () => {\r\n                //      this.doSomething();\r\n                //   });\r\n                // }); \r\n\r\n          });\r\n          this.infoWindows.push(infoWindow);\r\n  }\r\n\r\n  doSomething(){\r\n    console.log(\"doSomething\");\r\n  }\r\n\r\n  closeAllInfoWindows() {\r\n      for(let window of this.infoWindows) { \r\n        window.close();\r\n      }\r\n  }\r\n \r\n\r\n  dismiss() {\r\n   this.viewCtrl.dismiss();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/layout/app1/list-map1/list-map1.ts"],"sourceRoot":""}